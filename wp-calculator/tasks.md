# План задач: Визуальный калькулятор WP (v2.0 - на основе кода)

**Feature**: [spec.md](wp-calculator/spec.md)
**Plan**: [plan.md](wp-calculator/plan.md)

## Фаза 1: Проверка существующей реализации

- **T001**: [Валидация] Проверить, что `ExpressionParser` корректно валидирует синтаксис операторов `assignment` и `if-then-else`.
- **T002**: [Ядро] Проверить, что `WPCalculator` правильно реализует логику вычисления `wp` для присваивания, ветвления и последовательности.
- **T003**: [Упрощение] Убедиться, что `InequalitySimplifier` корректно решает линейные неравенства, возникающие в процессе вычислений.
- **T004**: [Трассировка] Проверить, что `WpTrace` корректно собирает шаги вычислений из `WPCalculator`.
- **T005**: [Сервис] Убедиться, что `WPCalculatorService` правильно координирует работу всех компонентов и очищает трейс перед каждым новым вычислением.

## Фаза 2: Проверка тестов

- **T006**: [Тесты] Проверить, что тесты в `TestProjectWPCalculator1` покрывают основные сценарии для `assignment`, `if`, `sequence` и `simplifier`.
- **T007**: [Тесты] Добавить тесты на граничные и ошибочные случаи (например, некорректный ввод, деление на ноль в `InequalitySimplifier`).

## Фаза 3: Проверка UI

- **T008**: [UI] Проверить, что `MainWindow` корректно отображает предустановленные сценарии и автозаполняет примеры.
- **T009**: [UI] Убедиться, что UI правильно вызывает `WPCalculatorService` и обрабатывает как успешные результаты, так и исключения.
- **T010**: [UI] Проверить, что лог трассировки и итоговая триада Хоара корректно отображаются.

## Фаза 4: Возможные улучшения (бэклог)

- **B001**: Расширить `InequalitySimplifier` для поддержки более сложных алгебраических упрощений.
- **B002**: Реализовать поддержку циклов (`while`).
- **B003**: Улучшить обработку ошибок парсинга и вычислений с более детальными сообщениями для пользователя.