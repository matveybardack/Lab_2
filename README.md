# Визуальный калькулятор слабейшего предусловия (WP Calculator)

Этот проект представляет собой WPF-приложение, разработанное для демонстрации и изучения концепции **слабейшего предусловия (weakest precondition, wp)** в формальной верификации программ по методологии Дейкстры.

## Основные возможности

- **Интерактивное вычисление**: Приложение позволяет пользователям вводить операторы и постусловия для вычисления `wp`.
- **Поддержка ключевых конструкций**: Реализована логика для трех основных случаев:
  1.  **Присваивание (`assignment`)**: `wp(x := e, R)`
  2.  **Последовательность (`sequence`)**: `wp(S1; S2, R)`
  3.  **Ветвление (`if-then-else`)**: `wp(if B then S1 else S2, R)`
- **Упрощение выражений**: Встроенный механизм для решения и упрощения линейных неравенств, что делает результат более читаемым (например, `(a+1) > 0` упрощается до соответствующего условия на `a`).
- **Пошаговая трассировка**: Пользователь может видеть все шаги вычисления, что способствует лучшему пониманию процесса.
- **Отображение триады Хоара**: После вычисления итогового предусловия `P` для оператора `S` и постусловия `R`, приложение формирует и отображает финальную триаду Хоара `{P} S {R}`.

## Архитектура

Проект построен на 3-слойной архитектуре с использованием C# и WPF (.NET Framework):

1.  **`WpfAppWPCalculator` (View)**: Слой представления, отвечающий за пользовательский интерфейс, обработку ввода и отображение результатов.
2.  **`ClassLibraryWPCalculator` (Business Logic)**: Библиотека классов, содержащая всю основную логику:
    - **`WPCalculatorService`**: Сервис-фасад, координирующий работу компонентов.
    - **`WPCalculator`**: Ядро, реализующее алгоритмы вычисления `wp`.
    - **`ExpressionParser`**: Валидатор синтаксиса вводимых операторов.
    - **`InequalitySimplifier`**: Компонент для упрощения линейных неравенств.
    - **`WpTrace`**: Статический класс для сбора логов вычислений.
3.  **`TestProjectWPCalculator1` (Tests)**: Проект с модульными тестами (xUnit) для проверки корректности бизнес-логики.

## Как использовать

1.  Запустите `WpfAppWPCalculator`.
2.  Выберите один из трех предустановленных сценариев (например, "Нахождение длины окружности").
3.  Выберите тип преобразования (например, "Присваивание").
4.  Введите оператор в соответствующее поле (или используйте предложенный пример).
5.  Нажмите "Рассчитать wp".
6.  Результат, пошаговый трейс и триада Хоара будут отображены в соответствующих полях.

## Минимальные системные требования

- Процессор: 1 ГГц или выше (x86 или x64)
- Оперативная память: 1 ГБ RAM
- Место на диске: 50 МБ свободного пространства
- Операционная система: Windows 10 / Windows 11
- .NET Framework: Версия 4.7.2 или выше
